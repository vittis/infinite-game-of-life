(this["webpackJsonpinfinite-game-of-life-web"]=this["webpackJsonpinfinite-game-of-life-web"]||[]).push([[0],{24:function(e,t,n){e.exports=n(51)},29:function(e,t,n){},39:function(e,t){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),o=n.n(r),l=(n(29),n(1)),i=n(8),s=n(23),u=c.a.memo((function(e){var t=e.grid,n=e.onSend;return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(m,", 20px)")}},t.map((function(e,a){return e.map((function(e,r){return c.a.createElement("div",{key:"".concat(a,"-").concat(r),onClick:function(){n({i:a,k:r})},style:{width:20,height:20,backgroundColor:t[a][r]?"pink":void 0,border:"solid 1px #444"}})}))})))})),f=n(7),m=5;function d(e){for(var t=Object(i.a)(e),n=[];t.length;)n.push(t.splice(0,m));return n}var b=0;var g=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(0),m=Object(l.a)(o,2),g=m[0],v=m[1],O=Object(a.useState)(""),E=Object(l.a)(O,2),p=E[0],h=E[1],j=Object(a.useState)(),w=Object(l.a)(j,2),x=w[0],k=w[1],y=Object(a.useState)(0),N=Object(l.a)(y,2),S=N[0],C=N[1],I=Object(a.useState)(),J=Object(l.a)(I,2),M=J[0],R=J[1],B=Object(a.useState)(),G=Object(l.a)(B,2),W=G[0],_=G[1],D=Object(a.useState)(!1),L=Object(l.a)(D,2),T=L[0],V=L[1];Object(a.useEffect)((function(){b=S;var e=setInterval((function(){b!==g?(C((function(e){return e+1})),b+=1):(clearInterval(e),V(!1))}),25);return T||clearInterval(e),function(){clearInterval(e)}}),[T]),Object(a.useEffect)((function(){C(g)}),[]),Object(a.useEffect)((function(){C(g),T&&V(!1)}),[g]),Object(a.useEffect)((function(){M&&R([].concat(Object(i.a)(M),[W]))}),[W,g]),Object(a.useEffect)((function(){new s.Client("ws://localhost:2567").joinOrCreate("life_room").then((function(e){k(e),e.onStateChange((function(e){_(e),r(d(e.board)),v(e.generation)})),e.onMessage("tick",(function(e){h(new Date(1e3*e).toISOString().substr(14,5))})),e.onMessage("receive_all",(function(e){R(e)}))})).catch((function(e){console.log("JOIN ERROR",e)}))}),[]);var $=Object(a.useCallback)((function(e){var t=e.i,n=e.k;g===S&&(console.log("click"),null===x||void 0===x||x.send("click",{i:t,k:n}))}),[x]);return n?c.a.createElement("div",{className:"my-5 flex flex-col w-full items-center"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{className:"text-2xl font-bold mb-2"},"Infinite Game of Life ")),c.a.createElement("div",{className:"mb-1 flex flex-col-reverse"},c.a.createElement("div",{className:"mt-1 flex flex-col items-center"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("input",{className:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-full",type:"range",min:"1",max:g,step:"1",value:S,onChange:function(e){return C(Number.parseInt(e.target.value))}}),c.a.createElement("button",{onClick:function(){V(!T)},className:"ml-3 bg-white hover:bg-gray-100 text-gray-800 font-semibold py-1 px-4 border border-gray-400 rounded shadow"},T?c.a.createElement(f.a,null):c.a.createElement(f.b,null)))),c.a.createElement("div",{className:"m-1 p-2 border border-gray-600 rounded"},"Next generation in: ",c.a.createElement("span",{className:"font-bold"},p))),c.a.createElement("div",{className:"mb-3"},"Viewing generation: ",c.a.createElement("b",null,S)),M&&M[S-1]&&c.a.createElement(u,{grid:d(M[S-1].board),setGrid:r,onSend:$})):c.a.createElement("div",null,"loading")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.74a54a99.chunk.js.map