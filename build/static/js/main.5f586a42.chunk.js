(this["webpackJsonpinfinite-game-of-life-web"]=this["webpackJsonpinfinite-game-of-life-web"]||[]).push([[0],{24:function(e,t,n){e.exports=n(51)},29:function(e,t,n){},39:function(e,t){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),o=n.n(r),l=(n(29),n(1)),i=n(8),s=n(23),u=c.a.memo((function(e){var t=e.grid,n=e.onSend;return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(f,", 20px)")}},t.map((function(e,a){return e.map((function(e,r){return c.a.createElement("div",{key:"".concat(a,"-").concat(r),onClick:function(){n({i:a,k:r})},style:{width:20,height:20,backgroundColor:t[a][r]?"pink":void 0,border:"solid 1px #444"}})}))})))})),m=n(7),f=5;function d(e){for(var t=Object(i.a)(e),n=[];t.length;)n.push(t.splice(0,f));return n}var b=0;var g=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(0),f=Object(l.a)(o,2),g=f[0],v=f[1],p=Object(a.useState)(""),O=Object(l.a)(p,2),E=O[0],h=O[1],j=Object(a.useState)(),w=Object(l.a)(j,2),k=w[0],x=w[1],y=Object(a.useState)(0),N=Object(l.a)(y,2),S=N[0],C=N[1],I=Object(a.useState)(),J=Object(l.a)(I,2),M=J[0],R=J[1],B=Object(a.useState)(),G=Object(l.a)(B,2),W=G[0],_=G[1],q=Object(a.useState)(!1),D=Object(l.a)(q,2),L=D[0],T=D[1];Object(a.useEffect)((function(){b=S;var e=setInterval((function(){b!==g?(C((function(e){return e+1})),b+=1):(clearInterval(e),T(!1))}),25);return L||clearInterval(e),function(){clearInterval(e)}}),[L]),Object(a.useEffect)((function(){C(g)}),[]),Object(a.useEffect)((function(){C(g),L&&T(!1)}),[g]),Object(a.useEffect)((function(){M&&R([].concat(Object(i.a)(M),[W]))}),[W,g]),Object(a.useEffect)((function(){new s.Client("ws://aqueous-ravine-97393.herokuapp.com/").joinOrCreate("life_room").then((function(e){x(e),e.onStateChange((function(e){_(e),r(d(e.board)),v(e.generation)})),e.onMessage("tick",(function(e){h(new Date(1e3*e).toISOString().substr(14,5))})),e.onMessage("receive_all",(function(e){R(e)}))})).catch((function(e){console.log("JOIN ERROR",e)}))}),[]);var V=Object(a.useCallback)((function(e){var t=e.i,n=e.k;g===S&&(console.log("click"),null===k||void 0===k||k.send("click",{i:t,k:n}))}),[k]);return n?c.a.createElement("div",{className:"my-5 flex flex-col w-full items-center"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{className:"text-2xl font-bold mb-2"},"Infinite Game of Life ")),c.a.createElement("div",{className:"mb-1 flex flex-col-reverse"},c.a.createElement("div",{className:"mt-1 flex flex-col items-center"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("input",{className:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-full",type:"range",min:"1",max:g,step:"1",value:S,onChange:function(e){return C(Number.parseInt(e.target.value))}}),c.a.createElement("button",{onClick:function(){T(!L)},className:"ml-3 bg-white hover:bg-gray-100 text-gray-800 font-semibold py-1 px-4 border border-gray-400 rounded shadow"},L?c.a.createElement(m.a,null):c.a.createElement(m.b,null)))),c.a.createElement("div",{className:"m-1 p-2 border border-gray-600 rounded"},"Next generation in: ",c.a.createElement("span",{className:"font-bold"},E))),c.a.createElement("div",{className:"mb-3"},"Viewing generation: ",c.a.createElement("b",null,S)),M&&M[S-1]&&c.a.createElement(u,{grid:d(M[S-1].board),setGrid:r,onSend:V})):c.a.createElement("div",null,"loading")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.5f586a42.chunk.js.map